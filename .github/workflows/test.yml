name: CML
on: [push]

defaults:
  run:
    working-directory: Module 2. Data governance

jobs:
  job1:
    name: Test Job 1
    runs-on: ubuntu-latest

    steps:           
      - name: Check out repository code
        uses: actions/checkout@v3
        
      - name: set up python env
        uses: actions/setup-python@v2
        
      - name: set up cml
        uses: iterative/setup-cml@v1

      - name: Action summary
        env:
          REPO_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "## Action summary" >> report.md
          echo "The job was automatically triggered by a ${{ github.event_name }} event." >> report.md
          echo "This job is now running on a ${{ runner.os }} server hosted by GitHub!" >> report.md
          echo "The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}." >> report.md 
          echo "The ${{ github.repository }} repository has been cloned to the runner." >> report.md
          echo "The workflow is now ready to test your code on the runner." >> report.md
          cml send-comment report.md
          
      - run: pwd
    
